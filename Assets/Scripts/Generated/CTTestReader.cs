// This code automatically generated by ExcelImporter

using System;
using System.Collections.Generic;
using System.IO;
using System.Linq;
using Game.Config;

namespace Core.Config
{
#if UNITY_EDITOR
    [Serializable]
#endif
    public partial class CTTest : CTItemBase
    {   
        /// <summary>
        /// key ID
        /// </summary> 
        public uint Id;
        
        /// <summary>
        /// 行为
        /// </summary> 
        public ETestBehavior Behavior;
        
        /// <summary>
        /// 状态
        /// </summary> 
        public EType Type;
        
#if UNITY_EDITOR
        /// <summary>
        /// 资源名
        /// </summary> 
        public string Desc;
        
#endif
        public static List<CTTest> Load(TextReader reader)
        {
            var result = new List<CTTest>();
            //TODO
            return result;
        }
        
    }

    public enum EType
    {   
        TypeB,
        TypeA,
    }
    
    public sealed partial class CSVTestManager : CTManagerBase
    { 
        private readonly List<CTTest> _dataList;
    
        private readonly Dictionary<uint, CTTest> _dataIdDic;
        public CSVTestManager(TextReader reader)
        {
            _dataList = CTTest.Load(reader);
            _dataIdDic = _dataList.ToDictionary(data => data.Id);
        }
        public List<CTTest> GetDataList() => _dataList;
        public CTTest GetDataAt(int i)
        {
            return _dataList.Count <= i || i < 0 ? null : _dataList[i];
        }
        
        public CTTest GetDataById(uint value)
        {
            return _dataIdDic.TryGetValue(value, out var outValue) ? outValue : null;
        }
        
    }
}